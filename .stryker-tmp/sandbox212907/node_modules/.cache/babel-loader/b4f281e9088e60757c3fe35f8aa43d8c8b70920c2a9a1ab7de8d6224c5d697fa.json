{"ast":null,"code":"import _slicedToArray from\"C:/Users/\\u0412\\u043B\\u0430\\u0434/Desktop/\\u0414\\u043E\\u0441\\u0443\\u0433/OTUS/ExoITJ-OTUS-react-ts-course/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Grid from'../grid/grid';import{getEmptyGrid}from'./game-of-life.utils';import styles from'./game-of-life.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GameOfLife=function GameOfLife(){var _useState=useState(40),_useState2=_slicedToArray(_useState,2),rows=_useState2[0],setRows=_useState2[1];var _useState3=useState(40),_useState4=_slicedToArray(_useState3,2),columns=_useState4[0],setColumns=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),grid=_useState6[0],setGrid=_useState6[1];useEffect(function(){var newGrid=getEmptyGrid(rows,columns);setGrid(newGrid);},[rows,columns]);var selectSquare=function selectSquare(row,column){var newGrid=grid.map(function(rowArr,rowIndex){return rowArr.map(function(colItem,colIndex){return rowIndex===row&&colIndex===column?!colItem:colItem;});});setGrid(newGrid);};var handleAddRows=function handleAddRows(){if(rows>=70)return;setRows(function(prev){return prev+10;});};var handleMinusRows=function handleMinusRows(){if(rows<=30)return;setRows(function(prev){return prev-10;});};var handleAddColumns=function handleAddColumns(){if(columns>=140)return;setColumns(function(prev){return prev+10;});};var handleMinusColumns=function handleMinusColumns(){if(columns<=40)return;setColumns(function(prev){return prev-10;});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{\"data-testid\":\"game_of_life_title\",children:\"\\u0418\\u0433\\u0440\\u0430 \\u0432 \\u0436\\u0438\\u0437\\u043D\\u044C\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.buttonGroup,children:[/*#__PURE__*/_jsx(\"button\",{\"data-testid\":\"add_rows_button\",onClick:handleAddRows,children:\"+ 10 \\u0441\\u0442\\u0440\\u043E\\u043A\"}),/*#__PURE__*/_jsx(\"button\",{\"data-testid\":\"minus_rows_button\",onClick:handleMinusRows,children:\"- 10 \\u0441\\u0442\\u0440\\u043E\\u043A\"}),/*#__PURE__*/_jsx(\"button\",{\"data-testid\":\"add_columns_button\",onClick:handleAddColumns,children:\"+ 10 \\u0441\\u0442\\u043E\\u043B\\u0431\\u0446\\u043E\\u0432\"}),/*#__PURE__*/_jsx(\"button\",{\"data-testid\":\"minus_columns_button\",onClick:handleMinusColumns,children:\"- 10 \\u0441\\u0442\\u043E\\u043B\\u0431\\u0446\\u043E\\u0432\"})]}),/*#__PURE__*/_jsx(Grid,{grid:grid,columns:columns,selectSquare:selectSquare})]});};export default GameOfLife;","map":{"version":3,"names":["React","useEffect","useState","Grid","getEmptyGrid","styles","GameOfLife","rows","setRows","columns","setColumns","grid","setGrid","newGrid","selectSquare","row","column","map","rowArr","rowIndex","colItem","colIndex","handleAddRows","prev","handleMinusRows","handleAddColumns","handleMinusColumns","buttonGroup"],"sources":["C:/Users/Влад/Desktop/Досуг/OTUS/ExoITJ-OTUS-react-ts-course/src/components/game-of-life/game-of-life.tsx"],"sourcesContent":["import React, { FC, useEffect, useState } from 'react';\r\nimport Grid from '../grid/grid';\r\nimport { getEmptyGrid } from './game-of-life.utils';\r\nimport styles from './game-of-life.module.css';\r\n\r\nconst GameOfLife: FC = () => {\r\n  const [rows, setRows] = useState(40);\r\n  const [columns, setColumns] = useState(40);\r\n  const [grid, setGrid] = useState<boolean[][]>([]);\r\n\r\n  useEffect(() => {\r\n    const newGrid = getEmptyGrid(rows, columns);\r\n    setGrid(newGrid);\r\n  }, [rows, columns]);\r\n\r\n  const selectSquare = (row: number, column: number) => {\r\n    const newGrid = grid.map((rowArr, rowIndex) =>\r\n      rowArr.map((colItem, colIndex) => (rowIndex === row && colIndex === column ? !colItem : colItem)),\r\n    );\r\n    setGrid(newGrid);\r\n  };\r\n\r\n  const handleAddRows = () => {\r\n    if (rows >= 70) return;\r\n    setRows((prev) => prev + 10);\r\n  };\r\n  const handleMinusRows = () => {\r\n    if (rows <= 30) return;\r\n    setRows((prev) => prev - 10);\r\n  };\r\n  const handleAddColumns = () => {\r\n    if (columns >= 140) return;\r\n    setColumns((prev) => prev + 10);\r\n  };\r\n  const handleMinusColumns = () => {\r\n    if (columns <= 40) return;\r\n    setColumns((prev) => prev - 10);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1 data-testid=\"game_of_life_title\">Игра в жизнь</h1>\r\n      <div className={styles.buttonGroup}>\r\n        <button data-testid=\"add_rows_button\" onClick={handleAddRows}>\r\n          + 10 строк\r\n        </button>\r\n        <button data-testid=\"minus_rows_button\" onClick={handleMinusRows}>\r\n          - 10 строк\r\n        </button>\r\n        <button data-testid=\"add_columns_button\" onClick={handleAddColumns}>\r\n          + 10 столбцов\r\n        </button>\r\n        <button data-testid=\"minus_columns_button\" onClick={handleMinusColumns}>\r\n          - 10 столбцов\r\n        </button>\r\n      </div>\r\n      <Grid grid={grid} columns={columns} selectSquare={selectSquare} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameOfLife;\r\n"],"mappings":"+LAAA,MAAOA,MAAK,EAAQC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACtD,MAAOC,KAAI,KAAM,cAAc,CAC/B,OAASC,YAAY,KAAQ,sBAAsB,CACnD,MAAOC,OAAM,KAAM,2BAA2B,CAAC,wFAE/C,GAAMC,WAAc,CAAG,QAAjBA,WAAc,EAAS,CAC3B,cAAwBJ,QAAQ,CAAC,EAAE,CAAC,wCAA7BK,IAAI,eAAEC,OAAO,eACpB,eAA8BN,QAAQ,CAAC,EAAE,CAAC,yCAAnCO,OAAO,eAAEC,UAAU,eAC1B,eAAwBR,QAAQ,CAAc,EAAE,CAAC,yCAA1CS,IAAI,eAAEC,OAAO,eAEpBX,SAAS,CAAC,UAAM,CACd,GAAMY,QAAO,CAAGT,YAAY,CAACG,IAAI,CAAEE,OAAO,CAAC,CAC3CG,OAAO,CAACC,OAAO,CAAC,CAClB,CAAC,CAAE,CAACN,IAAI,CAAEE,OAAO,CAAC,CAAC,CAEnB,GAAMK,aAAY,CAAG,QAAfA,aAAY,CAAIC,GAAW,CAAEC,MAAc,CAAK,CACpD,GAAMH,QAAO,CAAGF,IAAI,CAACM,GAAG,CAAC,SAACC,MAAM,CAAEC,QAAQ,QACxCD,OAAM,CAACD,GAAG,CAAC,SAACG,OAAO,CAAEC,QAAQ,QAAMF,SAAQ,GAAKJ,GAAG,EAAIM,QAAQ,GAAKL,MAAM,CAAG,CAACI,OAAO,CAAGA,OAAO,EAAC,CAAC,GAClG,CACDR,OAAO,CAACC,OAAO,CAAC,CAClB,CAAC,CAED,GAAMS,cAAa,CAAG,QAAhBA,cAAa,EAAS,CAC1B,GAAIf,IAAI,EAAI,EAAE,CAAE,OAChBC,OAAO,CAAC,SAACe,IAAI,QAAKA,KAAI,CAAG,EAAE,GAAC,CAC9B,CAAC,CACD,GAAMC,gBAAe,CAAG,QAAlBA,gBAAe,EAAS,CAC5B,GAAIjB,IAAI,EAAI,EAAE,CAAE,OAChBC,OAAO,CAAC,SAACe,IAAI,QAAKA,KAAI,CAAG,EAAE,GAAC,CAC9B,CAAC,CACD,GAAME,iBAAgB,CAAG,QAAnBA,iBAAgB,EAAS,CAC7B,GAAIhB,OAAO,EAAI,GAAG,CAAE,OACpBC,UAAU,CAAC,SAACa,IAAI,QAAKA,KAAI,CAAG,EAAE,GAAC,CACjC,CAAC,CACD,GAAMG,mBAAkB,CAAG,QAArBA,mBAAkB,EAAS,CAC/B,GAAIjB,OAAO,EAAI,EAAE,CAAE,OACnBC,UAAU,CAAC,SAACa,IAAI,QAAKA,KAAI,CAAG,EAAE,GAAC,CACjC,CAAC,CAED,mBACE,oCACE,WAAI,cAAY,oBAAoB,4EAAkB,cACtD,aAAK,SAAS,CAAElB,MAAM,CAACsB,WAAY,wBACjC,eAAQ,cAAY,iBAAiB,CAAC,OAAO,CAAEL,aAAc,iDAEpD,cACT,eAAQ,cAAY,mBAAmB,CAAC,OAAO,CAAEE,eAAgB,iDAExD,cACT,eAAQ,cAAY,oBAAoB,CAAC,OAAO,CAAEC,gBAAiB,mEAE1D,cACT,eAAQ,cAAY,sBAAsB,CAAC,OAAO,CAAEC,kBAAmB,mEAE9D,GACL,cACN,KAAC,IAAI,EAAC,IAAI,CAAEf,IAAK,CAAC,OAAO,CAAEF,OAAQ,CAAC,YAAY,CAAEK,YAAa,EAAG,GAC9D,CAEV,CAAC,CAED,cAAeR,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}